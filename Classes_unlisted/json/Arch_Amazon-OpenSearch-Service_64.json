{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Simple Amazon OpenSearch Service Setup",
  "Resources": {
    "OpenSearchDomain": {
      "Type": "AWS::OpenSearchService::Domain",
      "Properties": {
        "DomainName": "my-opensearch-domain",  // Replace with whateverrrrrrr domain name
        "ElasticsearchVersion": "7.10",  // Specify the version of OpenSearch
        "NodeToNodeEncryptionOptions": {
          "Enabled": true
        },
        "EncryptionAtRestOptions": {
          "Enabled": true
        },
        "AccessPolicies": [
          {
            "Effect": "Allow",
            "Principal": "*",
            "Action": "es:*",
            "Resource": "*"
          }
        ]
      }
    }
  },
  "Outputs": {
    "DomainEndpoint": {
      "Description": "Endpoint of the OpenSearch Domain",
      "Value": { "Fn::GetAtt": ["OpenSearchDomain", "DomainEndpoint"] }
    }
  }
}
